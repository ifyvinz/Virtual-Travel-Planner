{% extends "planner/layout.html" %}
{% load static %}

{% block body %}
<div class="container mt-4" id="form-container">
    <div class="card">
        <div class="card-header">
            <h3 class="text-dark">Submit a Post</h3>
        </div>
        <div class="card-body">
            <form action="{% url 'submitPost' %}" method="post" class="form" enctype="multipart/form-data">
                {% csrf_token %}
                <div class="form-group">
                    {{ form.as_p }}
                </div>
                <button type="submit" class="btn btn-dark">Save</button>
            </form>
        </div>
    </div>
</div>
{% endblock %}

{% block script %}
<script>
    function initAutocomplete() {
        const input = document.getElementById('post-location');
        const autocomplete = new google.maps.places.Autocomplete(input);
    }
</script>
<script src="https://maps.googleapis.com/maps/api/js?key={{google_api_key}}&callback=initAutocomplete&libraries=places&v=weekly" defer></script>
{% endblock %}
